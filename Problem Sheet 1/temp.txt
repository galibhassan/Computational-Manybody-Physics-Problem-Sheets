
function setLabel(targetMat, labelMat, i, j, currentLabel)
    if(isClustered(targetMat, i, j)[1] == false)
        currentLabel = currentLabel + 1;
        labelMat[i,j] = currentLabel;
    elseif( isClustered(targetMat, i, j)[1] == true )
        _clustWith = isClustered(targetMat, i, j)[2];
        if(_clustWith == "left")
        #labelMat[i,j] = getLabel(targetMat, i, j - 1);
            labelMat[i,j] = labelMat[i, j - 1];
            currentLabel = labelMat[i,j];
        elseif(_clustWith == "up" )
            labelMat[i,j] = labelMat[i - 1, j];
            currentLabel = labelMat[i,j];    
        elseif(_clustWith == "both")
            labelMat[i,j] = smallerOf(labelMat[i, j - 1], labelMat[i - 1,j]);
            currentLabel = labelMat[i,j];
        end
    end
    return currentLabel;
end


function getLabelMat(targetMat)
    labelMat = targetMat;
    currentLabel = 0;
    for i = 1:size(labelMat)[1]
        for j = 1:size(labelMat)[2]         
            if(targetMat[i,j] == 0)
                labelMat[i,j] = 0;
            else 
                currentLabel = setLabel(targetMat, labelMat, i,j, currentLabel);
                print(" cL = $currentLabel , ")
            end

        end
    end
    return labelMat;
end
